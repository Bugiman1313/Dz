Домашнее задание: Добавление индексов и ограничений в базу данных интернет-магазина
Цель
Применять индексы и ограничения в реальном проекте для оптимизации запросов и обеспечения целостности данных.
Описание/Пошаговая инструкция выполнения домашнего задания

Провести анализ возможных запросов, отчетов и поиска данных.
Определить предполагаемую кардинальность полей.
Создать дополнительные индексы — простые или композитные.
Для каждого индекса указать краткое описание, зачем он нужен (почему выбран именно это поле/поля).
Определить логические ограничения в базе данных, например, уникальность полей или условия для соблюдения бизнес-логики (пример: запрет на отрицательные суммы).
Создать ограничения для выбранных полей.

Описание индексов и ограничений
1. Клиенты (clients)

idx_client_name: Индекс на nameЗачем нужен: Ускоряет поиск клиентов по имени, часто используемый в запросах для фильтрации или отчетов.  
idx_client_contacts: Индекс на contactsЗачем нужен: Обеспечивает быстрый поиск клиентов по контактным данным, например, при проверке дубликатов.  
idx_client_delivery_address: Индекс на delivery_addressЗачем нужен: Ускоряет запросы, связанные с доставкой, например, для группировки заказов по адресу.  
Ограничения:  
contacts должно быть уникальным (UNIQUE), чтобы избежать дублирования клиентов по контактным данным.  
name не должно быть пустым (NOT NULL).



2. Цены (prices)

idx_prices_price: Индекс на priceЗачем нужен: Ускоряет фильтрацию и сортировку по цене, например, для анализа ценовых диапазонов.  
idx_prices_products_id: Индекс на products_idЗачем нужен: Ускоряет соединения с таблицей products и поиск цен по продуктам.  
Ограничения:  
price должен быть больше 0 (CHECK price > 0), чтобы исключить отрицательные или нулевые цены.  
products_id не должно быть пустым (NOT NULL).



3. Покупки (purchases)

idx_purchases_product_id: Индекс на product_idЗачем нужен: Ускоряет запросы для анализа продаж по продуктам.  
idx_purchases_client_id: Индекс на client_idЗачем нужен: Ускоряет поиск покупок по клиентам, например, для персонализации предложений.  
idx_purchases_prices_id: Индекс на prices_idЗачем нужен: Ускоряет соединения с таблицей prices для получения актуальной цены покупки.  
idx_purchases_purchase_data: Индекс на purchase_dataЗачем нужен: Ускоряет запросы по дате покупки, например, для отчетов по временным периодам.  
Ограничения:  
quantity должен быть больше 0 (CHECK quantity > 0).  
client_id, product_id, prices_id, purchase_data не должны быть пустыми (NOT NULL).



4. Продукты (products)

idx_products_category_id_name: Композитный индекс на category_id, nameЗачем нужен: Ускоряет поиск и фильтрацию продуктов по категории и названию, часто используемых вместе.  
idx_products_name: Индекс на nameЗачем нужен: Ускоряет поиск продуктов по названию.  
idx_products_manufacturer_id_name: Композитный индекс на manufacturer_id, nameЗачем нужен: Ускоряет запросы для анализа продуктов по производителю и названию.  
idx_products_suppliers_id_name: Композитный индекс на suppliers_id, nameЗачем нужен: Ускоряет запросы по поставщикам и продуктам.  
Ограничения:  
name должно быть уникальным (UNIQUE) в пределах одной категории (category_id).  
name, category_id, manufacturer_id, suppliers_id не должны быть пустыми (NOT NULL).



5. Поставщики (suppliers)

idx_suppliers_name: Индекс на nameЗачем нужен: Ускоряет поиск поставщиков по названию.  
idx_suppliers_contacts: Индекс на contactsЗачем нужен: Ускоряет поиск по контактным данным, например, для проверки дубликатов.  
idx_suppliers_address: Индекс на addressЗачем нужен: Ускоряет запросы, связанные с географическим анализом поставщиков.  
Ограничения:  
name должно быть уникальным (UNIQUE).  
name, contacts не должны быть пустыми (NOT NULL).



6. Производитель (manufacturer)

idx_manufacturer_name: Индекс на nameЗачем нужен: Ускоряет поиск производителей по названию.  
idx_manufacturer_address: Индекс на addressЗачем нужен: Ускоряет запросы, связанные с адресами производителей.  
idx_manufacturer_contacts: Индекс на contactsЗачем нужен: Уск
